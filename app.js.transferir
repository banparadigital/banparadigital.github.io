var fontControl={min:8,max:18};var finalTimeout=null;var finalAppMaxUse=null;var tamanhoFontePadrao=null;var anonymousUrls=["custom/pager","ng-table/header.html","ng-table/sorterRow.html","ng-table/filterRow.html","rzSliderTpl.html"];function initConfig(d,f,c){var e={appUrl:d,appHeaders:{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}},appInactivityTimeout:f};finalAppMaxUse=c;var b={language:"pt-br",layout:"ibLayout-7",display:{a:"Aceitar",bksp:"Limpar",shift:"Caps Lock",space:"Espaço",menos:"-:Menos contraste",mais:"+:Mais contraste"},css:{container:"kb-container",input:"kb-input",buttonDefault:"kb-button",buttonHover:"kb-button-hover",buttonAction:"kb-button-action",buttonDisabled:"kb-button-disabled"},autoAccept:true,caretToEnd:true,lockInput:true,preventPaste:true,repeatRate:0,restrictInput:true,stickyShift:true,tabNavigation:true,usePreview:false,idxContraste:3,contraste:["#E0DFDF","#C9C9C9","#B6B4B4","#8D8A8A","#000000","#150F96","#0B00FF"]};var a={"ibLayout-1":{normal:["q w e r t y u i o p","a s d f g h j k l ç","z x c v b n m {bksp}","{shift} {space} {menos!!} {mais!!}"],shift:["Q W E R T Y U I O P","A S D F G H J K L Ç","Z X C V B N M {bksp}","{shift} {space} {menos!!} {mais!!}"]},"ibLayout-2":{normal:["1 2 3 {sp:30px} {bksp}","4 5 6 {sp:30px} {mais!!}","7 8 9 {sp:30px} {menos!!}","{sp:30px} 0 {sp:134px}"]},"ibLayout-3":{normal:["1 2 3 4 5 6 7 8 9 0","q w e r t y u i o p","a s d f g h j k l ç","z x c v b n m {bksp}","{shift} {space} {menos!!} {mais!!}"],shift:["1 2 3 4 5 6 7 8 9 0","Q W E R T Y U I O P","A S D F G H J K L Ç","Z X C V B N M {bksp}","{shift} {space} {menos!!} {mais!!}"]},"ibLayout-4":{normal:["@ # $ {sp:30px} {bksp}","% ¨ & {sp:30px} {mais!!}","* ( ) {sp:30px} {menos!!}","< > ! {sp:30px}"]},"ibLayout-5":{normal:["@ # $ % ¨ & * ( ) < > !","q w e r t y u i o p","a s d f g h j k l ç","z x c v b n m {bksp}","{shift} {space} {menos!!} {mais!!}"],shift:["@ # $ % ¨ & * ( ) < > !","Q W E R T Y U I O P","A S D F G H J K L Ç","Z X C V B N M {bksp}","{shift} {space} {menos!!} {mais!!}"]},"ibLayout-6":{normal:["1 2 3 @ # $ {sp:30px} {bksp}","4 5 6 % ¨ & {sp:30px} {mais!!}","7 8 9 * ( ) {sp:30px} {menos!!}","{sp:30px} 0 {sp:30px} < > ! {sp:30px}"]},"ibLayout-7":{normal:["1 2 3 4 5 6 7 8 9 0 @ # $","q w e r t y u i o p % ¨ &","a s d f g h j k l ç * ( )","z x c v b n m < > ! {bksp}","{shift} {space} {menos!!} {mais!!}"],shift:["1 2 3 4 5 6 7 8 9 0 @ # $","Q W E R T Y U I O P % ¨ &","A S D F G H J K L Ç * ( )","Z X C V B N M < > ! {bksp}","{shift} {space} {menos!!} {mais!!}"]},};$.keyboard.layouts=$.extend(true,$.keyboard.layouts,a);angular.module("internetBankingApp").constant("config",e);angular.module("internetBankingApp").constant("configTecladoVirtual",b);initSecondsTimeout(e.appInactivityTimeout);setInterval(function(){startCount(e.appUrl)},1000)}function initSecondsTimeout(a){finalTimeout=a}function startCount(c){if(finalTimeout<=0){window.location=c}else{if($("#contadorRegressivo")!=null){var b=padLeft(Math.floor(finalTimeout/60),2,"0");var a=padLeft(((finalTimeout%3600)%60),2,"0");horaImprimivel=b+"min "+a+"seg";$("#contadorRegressivo").html(horaImprimivel)}finalTimeout--}if(finalAppMaxUse!=null){if(finalAppMaxUse<finalTimeout){$(".tempo-sessao").addClass("tempo-maximo")}finalAppMaxUse--}}function validarUsuarioLogado(){var a=getCookie("app.logado");if(a!==undefined&&!parseInt(a)){document.location.reload(true)}}function restaurarFonte(){$("html").css("font-size",tamanhoFontePadrao)}function diminuirFonte(){var a=parseInt($("html").css("font-size").split("px")[0]);if(a>fontControl.min){$("html").css("font-size",(a-1)+"px")}}function aumentarFonte(){var a=parseInt($("html").css("font-size").split("px")[0]);if(a<fontControl.max){$("html").css("font-size",(a+1)+"px")}}function getScopeMensagem(){return getScope("#mensagem-controller")}function getScopeHome(){return getScope("#homeController")}function getScopeNotificacoes(){return getScope("#card-notificacoes")}function getScopePesquisa(){return getScope("#pesquisa")}function getScopeSaldo(){return getScope("#card-saldo")}function adicionarMensagensGlobal(a){var b=getScopeMensagem();b.adicionarMensagens(a);apply(b)}function adicionarMensagemGlobal(c,a){var b=getScopeMensagem();if(angular.isObject(c)){b.adicionarMensagem(c)}else{b.adicionarMensagem({mensagem:c,severityMessage:a})}apply(b)}function limparMensagensGlobal(){var a=getScopeMensagem();a.limparMensagens();apply(a)}function atualizarTituloPagina(a){$("#titulo-pagina").html(a);negritarParcial($(".titulo-secao"),2);if(!isNullOrEmpty(a)){$("#conteudo").css({"padding-left":"20px","padding-right":"20px"});$(".mensagens").css({"padding-left":"20px","padding-right":"20px"});$("#caminho-de-pao").show()}else{$("#conteudo").removeAttr("style");$(".mensagens").removeAttr("style");$("#caminho-de-pao").hide()}}function irTransacao(a){fecharMenu();getScopeHome().irTransacao(a,true)}function irTransacaoFavorita(a){fecharMenu();getScopeHome().irTransacao(a,false)}function alterarConteudo(a){$("#conteudo").html(a);moverScrollTop()}function limparConteudo(){$("#conteudo").html("");moverScrollTop()}function fecharModalAguarde(){$("#aguarde").hide()}function abrirModalAguarde(){$("#aguarde").show()}function atualizarQuantidadeNotificacoes(){var a=getScopeNotificacoes();if(angular.isDefined(a)){a.atualizarQuantidadeNotificacoes();apply(a)}}function atualizarQuantidadeDiasExpirarSenha(a){var b=getScopeNotificacoes();if(angular.isDefined(b)){b.atualizarQuantidadeDiasExpirarSenha(a);apply(b)}}function atualizarSaldo(){var a=getScopeSaldo();if(angular.isDefined(a)){a.atualizarSaldo();apply(a)}}function enviarEventoGA(h,a,c,d,b){if(d===undefined||d===null||typeof(d)!=="boolean"){d=true}var f={};var e=getScopeHome();if(angular.isDefined(e)){f=e.objetoGAPadrao}var g=$.extend({},f,c);g.status=d?"sucesso":"erro";g.mensagem=d?"Realizado com sucesso.":b;ga("send","event",h,a,JSON.stringify(g))}(function(){var a=angular.module("internetBankingApp",["ib.masks","ib.filters","ngTable","ng-bootstrap-select","angularPrint","rzModule"]);a.factory("internetBankingAppInterceptor",["$q","$injector","config",function(b,d,c){var e={request:function(f){var g=false;if(anonymousUrls.indexOf(f.url)<0){g=true;f.url=c.appUrl+f.url}if(!f.ajaxSecundario){abrirModalAguarde();limparMensagensGlobal();if(g&&typeof(ga)=="function"){ga("send","pageview",f.url)}}initSecondsTimeout(c.appInactivityTimeout);return f},requestError:function(f){fecharModalAguarde();return b.reject(f)},response:function(f){initSecondsTimeout(c.appInactivityTimeout);if(!f.config.ajaxSecundario){fecharModalAguarde()}return f},responseError:function(f){initSecondsTimeout(c.appInactivityTimeout);if(!f.config.ajaxSecundario){fecharModalAguarde();if(f.status==401||f.status==0||f.status==412){location.reload();return}if(f.status==403&&typeof(responseErrorForbidden)=="function"){responseErrorForbidden()}adicionarMensagensGlobal(f.data.messages)}return b.reject(f)}};return e}]);a.directive("ngDisabledCcp",function(){return{restrict:"A",scope:{},link:function(c,b){b.on("cut copy paste",function(d){StopEvent(d)})}}});a.directive("ngPasteCodigobarra",function(){return{restrict:"A",scope:false,link:function(c,b){b.on("paste",function(f){var e=undefined;if(window.clipboardData&&window.clipboardData.getData){e=window.clipboardData.getData("Text")}else{if(f.originalEvent&&f.originalEvent.clipboardData&&f.originalEvent.clipboardData.getData){e=f.originalEvent.clipboardData.getData("text/plain")}else{if(f.clipboardData&&f.clipboardData.getData){e=f.clipboardData.getData("text/plain")}}}var h=!isNullOrEmpty(e)?getOnlyNumber(e):null;if(isNullOrEmpty(h)||h.length!=48){StopEvent(f);return}var g=f.currentTarget.id.substring(0,f.currentTarget.id.length-1);c[g+"1"]=h.substring(0,12);c[g+"2"]=h.substring(12,24);c[g+"3"]=h.substring(24,36);c[g+"4"]=h.substring(36,48);apply(c);var d=$(":input:eq("+($(":input").index($("#"+g+"4"))+1)+")");if(d!=null&&d.length){d[0].focus()}StopEvent(f)})}}});a.directive("ngPadleft",function(){return{restrict:"A",require:"ngModel",link:function(f,e,b,c){var g=f.$eval(b.ngPadleft);var i=g.size;var h=angular.isDefined(g.padChar)?g.padChar:"0";function d(j){if(c.$isEmpty(j)){return j}return padLeft(j,i,h)}c.$formatters.push(d);e.on("blur",function(j){var k=c.$viewValue;if(!c.$isEmpty(k)){c.$setViewValue(padLeft(k,i,h));c.$render()}})}}});a.directive("ngNumbersOnly",function(){return{restrict:"A",require:"ngModel",link:function(f,e,b,d){desabilitarTeclaEspaco(e);function c(h){if(h){var g=h.replace(/[^0-9]/g,"");if(g!==h){d.$setViewValue(g);d.$render()}return g}return""}d.$parsers.push(c)}}});a.directive("ngDisabledEmoji",function(){return{restrict:"A",require:"ngModel",link:function(f,e,b,d){function g(i){try{return i.replace(new RegExp("[^\\p{L}\\p{N}\\p{P}\\p{Z}|=<>$+`~^]","gu"),"")}catch(h){return i}}function c(i){if(i){var h=g(i);if(h!==i){d.$setViewValue(h);d.$render()}return h}return""}d.$parsers.push(c)}}});a.directive("ngDisabledKeyspace",function(){return{restrict:"A",link:function(d,c,b){desabilitarTeclaEspaco(c)}}});a.directive("ngIsEmpty",function(){return{restrict:"A",link:function(d,c,b){d.$watch(b.ngModel,function(f,e){if(angular.isNumber(f)||!isNullOrEmpty(f)){$(c).closest(".form-group.label-floating").removeClass("is-empty")}else{$(c).closest(".form-group.label-floating").addClass("is-empty")}})}}});a.directive("ngDatepicker",["$locale",function(b){return{restrict:"A",require:"ngModel",link:function(g,f,e,d){var h="#"+(e.datepickerid||attr.id);var c=e.format||"L";$(h).datetimepicker({format:c,locale:b.id,viewMode:e.viewmode||"days",showTodayButton:true,keepInvalid:true,useCurrent:false,showClose:true,tooltips:{today:"Hoje",clear:"Limpar",close:"Fechar",selectMonth:"Selecione o Mês",prevMonth:"Mês Anterior",nextMonth:"Próximo Mês",selectYear:"Selecione o Ano",prevYear:"Ano Anterior",nextYear:"Próximo Ano",selectDecade:"Selecione a Década",prevDecade:"Década Anterior",nextDecade:"Próxima Década",prevCentury:"Século Anterior",nextCentury:"Próximo Século"},icons:{time:"fa fa-clock",date:"fa fa-calendar",up:"fa fa-angle-up",down:"fa fa-angle-down",previous:"fa fa-angle-left",next:"fa fa-angle-right",today:"fa fa-crosshairs",clear:"fa fa-trash-alt",close:"fa fa-times"}});$(h).on("dp.change",function(i){if(i.date&&i.date.isValid()){g.$apply(function(){d.$setViewValue(moment(i.date).format(c));d.$render()})}})}}}]);a.directive("ngFocusNextOnMaxlength",function(){return{restrict:"A",link:function(b,c){c.on("input",function(f){if(c.val().length==c.attr("maxlength")){var d=$(":input:eq("+($(":input").index(this)+1)+")");if(d.length){d[0].focus()}}})}}});a.directive("ngAutofocus",["$timeout",function(b){return{restrict:"A",link:function(c,d){b(function(){d[0].focus()})}}}]);a.directive("ngKeyboard",["configTecladoVirtual",function(b){return{restrict:"A",require:"ngModel",scope:false,link:function(n,k,m,e){var f=null;if(!isNullOrEmpty(n.configTecladoVirtual)){f=angular.copy(n.configTecladoVirtual)}else{f=angular.copy(b)}$.extend($.keyboard.keyaction,{mais:function(o){if(o.settings.idxContraste<o.settings.contraste.length-1){o.settings.idxContraste++;$(".ui-keyboard .ui-keyboard-button").css("color",o.settings.contraste[o.settings.idxContraste])}},menos:function(o){if(o.settings.idxContraste>0){o.settings.idxContraste--;$(".ui-keyboard .ui-keyboard-button").css("color",o.settings.contraste[o.settings.idxContraste])}}});var d="#"+m.id;var i=d+"Encrypted";var h=m.token;f.position={of:$(d),my:"left+8 top",at:"left bottom",at2:"right top"};var g=($(d).attr("ng-keyboard-layout")||$(d).attr("data-ng-keyboard-layout"));if(g!==undefined){if(n[g]!==undefined){g=n[g]}f.layout="ibLayout-"+g;f.css.buttonDefault="kb-button layout-"+g}var j="";var l=$.keyboard.layouts[f.layout];for(var c in l){j+=l[c].join("")}j=j.replace(/(\s|{\S*})/g,"");f.beforeClose=function(q,o,p,s){var r=$(q.currentTarget).val();e.$setViewValue(r);e.$render()};f.beforeInsert=function(p,s,r,v){var q=isNullOrEmpty($(d)[0].maxLength)?1000:$(d)[0].maxLength;var x=$(d)[0].selectionStart;var w=$(d)[0].selectionEnd;if($(p.currentTarget).attr("data-action")!=="bksp"&&$(d)[0].value.length==q&&x==w){return false}var y=$(p.currentTarget).attr("data-action");encriptaTextoTecladoVirtual($(d)[0],$(i)[0],p,h);var o=($(i).attr("ng-model")||$(i).attr("data-ng-model")).split(".");var z=angular.element($(i)[0]).scope();var u=null;for(var t=0;t<o.length;t++){if(t==(o.length-1)){if(u==null){z[o[t]]=$(i)[0].value}else{u[o[t]]=$(i)[0].value}break}u=u==null?z[o[t]]:u[o[t]]}return y==="bksp"?v:randomOnDomain(j)};$(d).keyboard(f).addScramble({targetKeys:/[\d]/,byKeySet:true,byRow:false});$(d).bind("visible",function(q,o,p){o.$allKeys.on("mousedown touchstart",function(r){$(".ui-keyboard .ui-keyboard-button").addClass("escondido")});o.$allKeys.on("mouseup mouseout touchend",function(r){$(".ui-keyboard .ui-keyboard-button").removeClass("escondido")})})}}}]);a.directive("ngIsSubmitted",function(){return{restrict:"A",require:"^form",link:function(d,c,b,e){d.$watch(function(){return e.$submitted},function(f){angular.forEach(e,function(i,g){if(typeof i==="object"&&i.hasOwnProperty("$modelValue")){var h=false;var k="#"+i.$name;if(f){var j=$(k).closest(".form-group.label-floating, .form-group.label-fixed");if(j.find(".form-control, .selectpicker, input:hidden").length>1){angular.forEach(j.find(".form-control, .selectpicker"),function(l){angular.forEach(e,function(n,m){if($(l).attr("id")===m&&n.$invalid){h=true}})})}else{h=i.$invalid}}if(h){$(k).closest(".form-group.label-floating, .form-group.label-fixed").addClass("has-error")}else{$(k).closest(".form-group.label-floating, .form-group.label-fixed").removeClass("has-error")}}})})}}});a.directive("ngHasError",["$timeout",function(b){return{restrict:"A",require:["ngModel","^?form"],link:function(f,e,c,g){var d=g[0];var h=g[1];if(h==null){return}e.on("keyup change blur",function(i){b(function(){var j=false;if(h.$submitted){var k=$(e).closest(".form-group.label-floating, .form-group.label-fixed");if(k.find(".form-control, .selectpicker, input:hidden").length>1){angular.forEach(k.find(".form-control, .selectpicker"),function(l){if(h[$(l).attr("id")].$invalid){j=true}})}else{j=d.$invalid}}if(j){$(e).closest(".form-group.label-floating, .form-group.label-fixed").addClass("has-error")}else{$(e).closest(".form-group.label-floating, .form-group.label-fixed").removeClass("has-error")}})})}}}]);a.directive("ngMaterialCheckbox",["$timeout",function(b){return{restrict:"A",link:function(e,d,c,f){b(function(){var g=$(d);if(g.find("span.checkbox-material").length==2){$(g.find("span.checkbox-material")[1]).remove()}})}}}]);a.config(["$httpProvider","$controllerProvider","$provide",function(d,c,b){d.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";d.interceptors.push("internetBankingAppInterceptor")}])})();