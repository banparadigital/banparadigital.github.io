/*!
 * ng-bootstrap-select v0.5.0
 *
 * Licensed under MIT
 */
"use strict";angular.module("ng-bootstrap-select",[]).directive("bootstrapSelectpicker",["$parse","$timeout",selectpickerDirective]);function isWindow(a){return a&&a.window===a}var isArray=Array.isArray;function isArrayLike(b){if(b==null||isWindow(b)){return false}if(isArray(b)||isString(b)||(jqLite&&b instanceof jqLite)){return true}var a="length" in Object(b)&&b.length;return isNumber(a)&&(a>=0&&((a-1) in b||b instanceof Array)||typeof b.item=="function")}var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/;function selectpickerDirective(b,a){return{restrict:"A",priority:1000,link:function(e,f,w){var A=e.$applyAsync?"$applyAsync":"$evalAsync",s;if(w.ngOptions){var C=w.multiple,j=w.ngOptions,v=b(w.bsOptionAttrs)(e),t,D,q=j.match(NG_OPTIONS_REGEXP);s=q[8];var x=q[5]||q[7];var o=q[6];var d=/ as /.test(q[0])&&q[1];var i=q[9];var g=b(q[2]?q[1]:x);var H=d&&b(d);var y=H||g;var m=i&&b(i);var G=i?function(I,J){return m(e,J)}:function B(I){return hashKey(I)};var F=function(J,I){return G(J,p(J,I))};var n=b(q[2]||q[1]);var u=b(q[3]||"");var h=b(q[4]||"");var l=b(s);var r={};var p=o?function(J,I){r[o]=I;r[x]=J;return r}:function(I){r[x]=I;return r};e[A](function(){$(f).selectpicker(b(w.selectpicker)())})}else{s=w.selectCollection;$(f).selectpicker(b(w.selectpicker)());a(function(){k()})}if(s){e.$watch(s,k,true)}function c(R){var M,J,P=0,Z=[],Y=[],T=R?R.length:0,Q,N=[],L="{{",W="}}",O=L.length,I=W.length,S=new RegExp(L.replace(/./g,U),"g"),V=new RegExp(W.replace(/./g,U),"g"),K=[];function U(aa){return"\\\\\\"+aa}function X(aa){return aa.replace(S,L).replace(V,W)}while(P<T){if(((M=R.indexOf(L,P))!=-1)&&((J=R.indexOf(W,M+O))!=-1)){if(P!==M){N.push(X(R.substring(P,M)))}Q=R.substring(M+O,J);Z.push(Q);P=J+I;K.push(N.length);N.push("")}else{if(P!==T){N.push(X(R.substring(P)))}break}}return function(ab,ad){for(var aa=0,ac=Z.length;aa<ac;aa++){N[K[aa]]=b(Z[aa])(ab,ad)}return N.join("")}}function z(){if(typeof v==="object"&&$.isEmptyObject(v)){return}function J(Q){var R;if(!o&&isArrayLike(Q)){R=Q}else{R=[];for(var S in Q){if(Q.hasOwnProperty(S)&&S.charAt(0)!=="$"){R.push(S)}}}return R}var I=l(e)||[],M=J(I);t=[];D=[];for(var L=0,K=f.find("option"),O=K.length;L<O;L++){var P=K[L].value,N=K.eq(L);if(P===""){t.push(N)}else{if(P==="?"){D.push(N)}else{break}}}if(t.length>1){t[1].remove()}f.find("option").each(function(T){if(t.length){T--}if(D.length){T--}var Q={},R={},aa={},Z=(I===M)?T:M[T],Y=I[Z];Q=p(Y,Z);if(w.bsOptionAttrs&&(o&&Z||!o&&Y)){var U=typeof v==="function"?v(Y,Z):v;if($.isEmptyObject(U)){return}for(var W in U){var V=U[W],X=W.split("data-")[1]?W.split("data-")[1].replace(/-([a-z])/g,function(ab){return ab[1].toUpperCase()}):null,S=c(V)(e,Q);if(X){aa[X]=S||V}else{R[W]=S||V}}$(this).data(aa).attr(R)}})}function k(I){e[A](function(){if(w.ngOptions&&w.bsOptionAttrs){z()}$(f).selectpicker("refresh")})}function E(I){if(e.$parent[w.ngModel]!==undefined&&e.$parent[w.ngModel]!==I){e.$parent[w.ngModel]=I}if(e.$$childHead&&e.$$childHead[w.ngModel]){e.$$childHead[w.ngModel]=I}e[A](function(){$(f).selectpicker("render")})}w.$observe("spTheme",function(I){a(function(){f.data("selectpicker").$button.removeClass(function(J,K){return(K.match(/(^|\s)?btn-\S+/g)||[]).join(" ")});$(f).selectpicker("setStyle",I)})});if(w.ngModel){e.$watch(w.ngModel,function(J,I){if(J!==I){if(!I){return k(J)}else{return E(J)}}},true)}if(w.ngDisabled){e.$watch(w.ngDisabled,k,true)}e.$on("$destroy",function(){a(function(){$(f).selectpicker("destroy")})})}}};